(this["webpackJsonpcollection-manager-app"]=this["webpackJsonpcollection-manager-app"]||[]).push([[0],{192:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(50),c=a.n(i),l=(a(192),a(12)),o=a(4),s=a(301),d=a(297),u=a(304),j=a(106),b=a(1),O=["children","value","index"];function h(e){var t=e.children,a=e.value,n=e.index,r=Object(j.a)(e,O);return Object(b.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n)},r),{},{children:a===n&&Object(b.jsx)(s.a,{sx:{p:3,mt:8},children:t})}))}var f=a(299),g=a(235),p=a(72),x=a(76),m=a(296),v=a(127);function C(e){var t=["name","salary","position","id","creationDate","startDate","endDate"],a=["EQ","GT","LT","LIKE"],r=Object(n.useState)(t[0]),i=Object(o.a)(r,2),c=i[0],d=i[1],u=Object(n.useState)(a[0]),j=Object(o.a)(u,2),O=j[0],h=j[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),C=x[0],S=x[1];return Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(m.a,{size:"small",value:c,onChange:function(e,t){d(t)},options:t,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Field name"}))}}),Object(b.jsx)(m.a,{size:"small",value:O,onChange:function(e,t){h(t)},options:a,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Predicate"}))}}),Object(b.jsx)(v.a,{size:"small",label:c+" value",value:C,onChange:function(e){S(e.target.value)}}),Object(b.jsx)(p.a,{variant:"contained",onClick:function(){e.updateFilters(e.filters.concat([{field:c,predicate:O,value:C}]))},children:"Add filter"}),Object(b.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){e.updateFilters([])},children:"Drop Filters"}),Object(b.jsx)(m.a,{size:"small",value:e.sortOrder.field,onChange:function(t,a){!function(t){var a={};a.order=e.sortOrder.order,a.field=t,e.setSortOrder(a)}(a)},options:t,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Sort field"}))}}),Object(b.jsx)(m.a,{size:"small",value:e.sortOrder.order,onChange:function(t,a){!function(t){var a={};a.field=e.sortOrder.field,a.order=t,e.setSortOrder(a)}(a)},options:["ASC","DESC"],renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Sort order"}))}}),e.filters.map((function(e,t){return Object(b.jsxs)(g.a,{children:[e.field," ",e.predicate," ",e.value]},"Typo_"+t)}))]})}var S=a(291),y=a(292),z=a(303),k=a(305),N=a(306),D=a(295),T=a(21),E=a.n(T),P=a.p+"static/media/worker.3b4b346c.jpg";function w(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)([]),d=Object(o.a)(c,2),u=d[0],j=d[1],O=Object(n.useState)({position:null,startDate:null,endDate:null}),h=Object(o.a)(O,2),f=h[0],x=h[1],C=Object(n.useState)({}),T=Object(o.a)(C,2),w=T[0],I=T[1],F=Object(n.useState)(!1),A=Object(o.a)(F,2),J=A[0],L=A[1];Object(n.useEffect)((function(){E.a.get("/organizations?pageSize=1000").then((function(e){console.log(e.data),i(e.data)})).catch((function(t){e.setProperError(t)})),E.a.get("/coordinates?pageSize=1000").then((function(e){console.log(e.data),j(e.data)})).catch((function(t){e.setProperError(t)}))}),[i,j,e]);var Y=Object(n.useCallback)((function(){var t={};if(f.name&&0!==f.name.length||(t.Name="Name should not be empty"),(!f.salary||f.salary<0)&&(t.Salary="Salary should be positive"),f.position||(t.Position="Position should be initialized"),f.startDate||(t.StartDate="Start date should be initialized"),f.coordinates||(t.Coordinates="Coordinates should be initialized"),0===Object.keys(t).length){var a={name:f.name,salary:f.salary,position:f.position,coordinatesId:f.coordinates.id,startDate:f.startDate.format("YYYY-MM-DDTHH:mm:ss")};f.organization&&(a.organizationId=f.organization.id),f.endDate&&(a.endDate=f.endDate),L(!0),E.a.post("/workers",a).then((function(t){e.handleClose(),L(!1)})).catch((function(t){e.setProperError(t),L(!1)}))}I(t)}),[f,e,L]);return Object(b.jsx)("div",{children:Object(b.jsxs)(S.a,{open:e.open,onClose:e.handleClose,maxWidth:"xl",children:[Object(b.jsx)(y.a,{children:"Create worker"}),Object(b.jsx)(z.a,{children:Object(b.jsxs)(s.a,{display:"grid",gap:2,sx:{backgroundImage:"linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url(".concat(P,")"),backgroundSize:"contain",backgroundPosition:"center"},children:[Object(b.jsx)(g.a,{children:Object(b.jsx)("pre",{style:{fontFamily:"inherit"},children:"public class Worker {\n    private int id; //\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0, \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c, \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\n    private String name; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null, \u0421\u0442\u0440\u043e\u043a\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439\n    private Coordinates coordinates; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private java.time.LocalDateTime creationDate; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null, \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\n    private float salary; //\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0\n    private java.time.LocalDateTime startDate; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private java.time.ZonedDateTime endDate; //\u041f\u043e\u043b\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private Position position; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private Organization organization; //\u041f\u043e\u043b\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n}"})}),Object(b.jsx)(g.a,{children:Object(b.jsx)("b",{children:"Please, fill the fields according to the description to create new worker entity."})}),u.length>0&&r.length>0?Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(v.a,Object(l.a)({size:"small",label:"Name",value:f.name,onChange:function(e){f.name=e.target.value,x(Object.assign({},f))}},w.Name&&{error:!0,helperText:w.Name})),Object(b.jsx)(v.a,Object(l.a)({size:"small",label:"Salary",value:f.salary,onChange:function(e){f.salary=e.target.value,x(Object.assign({},f))}},w.Salary&&{error:!0,helperText:w.Salary})),Object(b.jsx)(m.a,{value:f.position,onChange:function(e,t){f.position=t,x(Object.assign({},f))},options:["DIRECTOR","HEAD_OF_DIVISION","HEAD_OF_DEPARTMENT","LEAD_DEVELOPER","BAKER"],renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Position",size:"small"},w.Position&&{error:!0,helperText:w.Position}))}}),Object(b.jsx)(m.a,{value:f.coordinates,onChange:function(e,t){f.coordinates=t,x(Object.assign({},f))},options:u,getOptionLabel:function(e){return JSON.stringify(e)},renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Coordinates",size:"small"},w.Coordinates&&{error:!0,helperText:w.Coordinates}))}}),Object(b.jsx)(m.a,{value:f.organization,onChange:function(e,t){f.organization=t,x(Object.assign({},f))},options:r,getOptionLabel:function(e){return e.fullName+"_"+e.id},renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Organization",size:"small"}))}}),Object(b.jsx)(D.a,{renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{size:"small"},w.StartDate&&{error:!0,helperText:w.StartDate}))},label:"Start date",value:f.startDate,onChange:function(e){f.startDate=e,x(Object.assign({},f))}}),Object(b.jsx)(D.a,{renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{size:"small"}))},label:"End date",value:f.endDate,onChange:function(e){f.endDate=e,x(Object.assign({},f))}})]}):""]})}),J?Object(b.jsxs)(k.a,{children:[Object(b.jsx)(N.a,{onClick:function(){x({position:null,startDate:null,endDate:null}),e.handleClose()},color:"secondary",children:"Cancel"}),Object(b.jsx)(N.a,{onClick:function(){Y()},children:"Create"})]}):Object(b.jsxs)(k.a,{children:[Object(b.jsx)(p.a,{onClick:function(){x({position:null,startDate:null,endDate:null}),e.handleClose()},color:"secondary",children:"Cancel"}),Object(b.jsx)(p.a,{onClick:function(){Y()},children:"Create"})]})]})})}var I=a(47),F=a.n(I);function A(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)([]),d=Object(o.a)(c,2),u=d[0],j=d[1],O=Object(n.useState)({id:e.item.id,name:e.item.name,position:e.item.position,salary:e.item.salary,startDate:F()(e.item.startDate),endDate:e.item.endDate?F()(e.item.endDate,"YYYY-MM-DDTHH:mm:ssZ"):null,coordinates:JSON.parse(e.item.coordinates),organization:e.item.organization?JSON.parse(e.item.organization):null}),h=Object(o.a)(O,2),f=h[0],x=h[1],C=Object(n.useState)({}),T=Object(o.a)(C,2),w=T[0],I=T[1],A=Object(n.useState)(!1),J=Object(o.a)(A,2),L=J[0],Y=J[1];Object(n.useEffect)((function(){E.a.get("/organizations?pageSize=1000").then((function(e){console.log(e.data),i(e.data)})).catch((function(t){e.setProperError(t)})),E.a.get("/coordinates?pageSize=1000").then((function(e){console.log(e.data),j(e.data)})).catch((function(t){e.setProperError(t)}))}),[i,j,e]);var M=Object(n.useCallback)((function(){Y(!0),E.a.delete("/workers/"+f.id).then((function(t){e.handleClose(),Y(!1)})).catch((function(t){e.setProperError(t),Y(!1)}))}),[f,e]),_=Object(n.useCallback)((function(){var t={};if(f.name&&0!==f.name.length||(t.Name="Name should not be empty"),(!f.salary||f.salary<0)&&(t.Salary="Salary should be positive"),f.position||(t.Position="Position should be initialized"),f.startDate||(t.StartDate="Start date should be initialized"),f.coordinates||(t.Coordinates="Coordinates should be initialized"),0===Object.keys(t).length){var a={name:f.name,salary:f.salary,position:f.position,coordinatesId:f.coordinates.id,startDate:f.startDate.format("YYYY-MM-DDTHH:mm:ss")};f.organization&&(a.organizationId=f.organization.id),f.endDate&&(a.endDate=f.endDate),Y(!0),E.a.put("/workers/"+f.id,a).then((function(t){e.handleClose(),Y(!1)})).catch((function(t){e.setProperError(t),Y(!1)}))}I(t)}),[f,e,Y]);return Object(b.jsx)("div",{children:Object(b.jsxs)(S.a,{open:e.open,onClose:e.handleClose,maxWidth:"xl",children:[Object(b.jsx)(y.a,{children:"Update worker"}),Object(b.jsx)(z.a,{children:Object(b.jsxs)(s.a,{display:"grid",gap:2,sx:{backgroundImage:"linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url(".concat(P,")"),backgroundSize:"contain",backgroundPosition:"center"},children:[Object(b.jsx)(g.a,{children:Object(b.jsx)("pre",{style:{fontFamily:"inherit"},children:"public class Worker {\n    private int id; //\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0, \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c, \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\n    private String name; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null, \u0421\u0442\u0440\u043e\u043a\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439\n    private Coordinates coordinates; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private java.time.LocalDateTime creationDate; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null, \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\n    private float salary; //\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0\n    private java.time.LocalDateTime startDate; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private java.time.ZonedDateTime endDate; //\u041f\u043e\u043b\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private Position position; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private Organization organization; //\u041f\u043e\u043b\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n}"})}),Object(b.jsx)(g.a,{children:Object(b.jsx)("b",{children:"Please, fill the fields according to the description to create new worker entity."})}),u.length>0&&r.length>0?Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(v.a,Object(l.a)({size:"small",label:"Name",value:f.name,onChange:function(e){f.name=e.target.value,x(Object.assign({},f))}},w.Name&&{error:!0,helperText:w.Name})),Object(b.jsx)(v.a,Object(l.a)({size:"small",label:"Salary",value:f.salary,onChange:function(e){f.salary=e.target.value,x(Object.assign({},f))}},w.Salary&&{error:!0,helperText:w.Salary})),Object(b.jsx)(m.a,{value:f.position,onChange:function(e,t){f.position=t,x(Object.assign({},f))},options:["DIRECTOR","HEAD_OF_DIVISION","HEAD_OF_DEPARTMENT","LEAD_DEVELOPER","BAKER"],renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Position",size:"small"},w.Position&&{error:!0,helperText:w.Position}))}}),Object(b.jsx)(m.a,{value:f.coordinates,onChange:function(e,t){f.coordinates=t,x(Object.assign({},f))},options:u,getOptionLabel:function(e){return JSON.stringify(e)},renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Coordinates",size:"small"},w.Coordinates&&{error:!0,helperText:w.Coordinates}))}}),Object(b.jsx)(m.a,{value:f.organization,onChange:function(e,t){f.organization=t,x(Object.assign({},f))},options:r,getOptionLabel:function(e){return e.fullName+"_"+e.id},renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Organization",size:"small"}))}}),Object(b.jsx)(D.a,{renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{size:"small"},w.StartDate&&{error:!0,helperText:w.StartDate}))},label:"Start date",value:f.startDate,onChange:function(e){f.startDate=e,x(Object.assign({},f))}}),Object(b.jsx)(D.a,{renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{size:"small"}))},label:"End date",value:f.endDate,onChange:function(e){f.endDate=e,x(Object.assign({},f))}})]}):""]})}),L?Object(b.jsxs)(k.a,{children:[Object(b.jsx)(N.a,{color:"secondary",children:"Cancel"}),Object(b.jsx)(N.a,{children:"Update"})]}):Object(b.jsxs)(k.a,{children:[Object(b.jsx)(p.a,{onClick:function(){x({position:null,startDate:null,endDate:null}),e.handleClose()},variant:"contained",color:"secondary",children:"Cancel"}),Object(b.jsx)(p.a,{onClick:function(){M()},color:"error",children:"Delete"}),Object(b.jsx)(p.a,{onClick:function(){_()},children:"Update"})]})]})})}var J=a(149),L=["onChange"],Y=n.forwardRef((function(e){var t=e.onChange,a=Object(j.a)(e,L);return Object(b.jsx)(J.a,Object(l.a)(Object(l.a)({},a),{},{onValueChange:function(a){t({target:{name:e.name,value:a.value}})},isNumericString:!0}))}));function M(e){return Object(b.jsx)(v.a,{label:e.label,placeholder:e.placeholder,value:e.value,onChange:e.onChange,error:e.error,helperText:e.helperText,id:"formatted-numberformat-input-"+e.label,InputProps:{inputComponent:Y},variant:"standard"})}var _=a(62);function R(){var e=Object(_.b)().enqueueSnackbar,t=a(21).default,r=Object(n.useState)(!1),i=Object(o.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(o.a)(d,2),j=u[0],O=u[1],h=Object(n.useState)(!1),m=Object(o.a)(h,2),v=m[0],S=m[1],y=Object(n.useState)(!1),z=Object(o.a)(y,2),k=z[0],N=z[1],D=Object(n.useState)([]),T=Object(o.a)(D,2),E=T[0],P=T[1],I=Object(n.useState)(null),F=Object(o.a)(I,2),J=F[0],L=F[1],Y=Object(n.useState)(0),R=Object(o.a)(Y,2),X=R[0],q=R[1],H=Object(n.useState)(0),U=Object(o.a)(H,2),V=U[0],W=U[1],G=Object(n.useState)(0),K=Object(o.a)(G,2),B=K[0],Q=K[1],Z=Object(n.useState)(null),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(null),ne=Object(o.a)(ae,2),re=ne[0],ie=ne[1],ce=Object(n.useState)([]),le=Object(o.a)(ce,2),oe=le[0],se=le[1],de=Object(n.useState)({field:"id",order:"ASC"}),ue=Object(o.a)(de,2),je=ue[0],be=ue[1],Oe=Object(n.useCallback)((function(e,t){var a=E.find((function(t){return t.id===e[0]}));L(a)}),[E,L]),he=Object(n.useCallback)((function(t){var a=t;t&&(a=t.response?t.response.data.Message:t.request?t.request:t.message,e(a,{variant:"error"}))}),[e]),fe=Object(n.useCallback)((function(){return t.get("/workers/salary/sum").then((function(e){console.log(e.data),q(e.data),O(!0)})).catch((function(e){he(e),O(!0)})),t.get("/workers/count").then((function(e){console.log(e.data),Q(e.data),N(!0)})).catch((function(e){he(e),N(!0)})),t.get("/workers",{params:{page:ee,pageSize:re,sort:JSON.stringify({type:je.order,fieldName:je.field})}}).then((function(e){console.log(e.data);var t=e.data.map((function(e){var t=e;return t.organization=JSON.stringify(e.organization,null,"\t"),t.coordinates=JSON.stringify(e.coordinates,null,"\t"),t}));P(t),W(t.length),S(!0),he(null)})).catch((function(e){he(e),S(!0)}))}),[t,he,ee,re,je,q,Q]),ge=Object(n.useCallback)((function(){var e=oe.map((function(e){return{fieldName:e.field,predicateType:e.predicate,fieldValue:e.value}}));return t.get("/workers/salary/sum").then((function(e){console.log(e.data),q(e.data),O(!0)})).catch((function(e){he(e),O(!0)})),t.get("/workers/count").then((function(e){console.log(e.data),Q(e.data),N(!0)})).catch((function(e){he(e),N(!0)})),t({method:"get",url:"/workers",responseType:"json",params:{filters:JSON.stringify(e),page:ee,pageSize:re,sort:JSON.stringify({type:je.order,fieldName:je.field})}}).then((function(e){console.log(e.data);var t=e.data.map((function(e){var t=e;return t.organization=JSON.stringify(e.organization,null,"\t"),t.coordinates=JSON.stringify(e.coordinates,null,"\t"),t}));P(t),W(t.length),S(!0),he(null)})).catch((function(e){he(e),S(!0)}))}),[t,oe,he,re,ee,je,q,Q]);Object(n.useEffect)((function(){0===E.length&&fe(),t.get("/workers/salary/sum").then((function(e){console.log(e.data),q(e.data),O(!0)})).catch((function(e){he(e),O(!0)})),t.get("/workers/count").then((function(e){console.log(e.data),Q(e.data),N(!0)})).catch((function(e){he(e),N(!0)}))}),[]);return v||j||k?Object(b.jsxs)(f.a,{container:!0,spacing:4,children:[Object(b.jsxs)(f.a,{item:!0,xl:8,children:[v?Object(b.jsxs)("div",{children:[Object(b.jsx)(s.a,{sx:{height:Math.max(Math.min(56*(V+1),1e3),620)+"px"},children:Object(b.jsx)(x.a,{disableColumnFilter:!0,rows:E,columns:[{field:"id",headerName:"Id",width:50,sortable:!1},{field:"name",headerName:"Name",width:150,sortable:!1},{field:"position",headerName:"Position",width:150,sortable:!1},{field:"salary",headerName:"Salary",width:150,sortable:!1},{field:"coordinates",headerName:"Coordinates",width:250,sortable:!1},{field:"organization",headerName:"Organization",width:400,sortable:!1},{field:"creationDate",headerName:"Created at",width:220,sortable:!1},{field:"startDate",headerName:"Started at",width:200,sortable:!1},{field:"endDate",headerName:"Ended at",width:350,sortable:!1}],hideFooter:!0,onSelectionModelChange:Oe})}),Object(b.jsxs)(g.a,{sx:{mb:2},children:["Displayed: ",V]}),Object(b.jsx)(M,{size:"small",label:"Page",placeholder:"0",value:ee,onChange:function(e){te(e.target.value)}}),Object(b.jsx)(M,{size:"small",label:"Page size",placeholder:"10",value:re,onChange:function(e){ie(e.target.value)}})]}):Object(b.jsx)(s.a,{sx:{height:"100%",width:"50%"},children:"Grid is loading..."}),Object(b.jsxs)(s.a,{sx:{mt:1,mb:2},children:[k?Object(b.jsxs)(g.a,{children:["Total: ",B]}):Object(b.jsx)(g.a,{children:"Total: Loading..."}),j?Object(b.jsxs)(g.a,{children:["Salary sum: ",X]}):Object(b.jsx)(g.a,{children:"Salary sum: Loading"})]}),Object(b.jsx)(p.a,{variant:"contained",onClick:function(){l(!0)},children:"Add element"})]}),Object(b.jsx)(f.a,{item:!0,xl:4,children:Object(b.jsxs)(s.a,{sx:{height:"100%",width:"50%"},children:[Object(b.jsx)(C,{filters:oe,updateFilters:se,sortOrder:je,setSortOrder:be}),Object(b.jsx)(p.a,{sx:{mt:3},variant:"contained",onClick:ge,children:"Apply filter"})]})}),c?Object(b.jsx)(w,{open:c,handleClose:function(){l(!1),fe()},setProperError:he}):"",J?Object(b.jsx)(A,{open:J,handleClose:function(){L(null),fe()},item:J,setProperError:he}):""]}):Object(b.jsx)(s.a,{sx:{height:"100%",width:"50%"},children:"Loading..."})}function X(e){var t=["id","fullName","annualTurnover"],a=["EQ","GT","LT","LIKE"],r=Object(n.useState)(t[0]),i=Object(o.a)(r,2),c=i[0],d=i[1],u=Object(n.useState)(a[0]),j=Object(o.a)(u,2),O=j[0],h=j[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),C=x[0],S=x[1];return Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(m.a,{size:"small",value:c,onChange:function(e,t){d(t)},options:t,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Field name"}))}}),Object(b.jsx)(m.a,{size:"small",value:O,onChange:function(e,t){h(t)},options:a,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Predicate"}))}}),Object(b.jsx)(v.a,{size:"small",label:c+" value",value:C,onChange:function(e){S(e.target.value)}}),Object(b.jsx)(p.a,{variant:"contained",onClick:function(){e.updateFilters(e.filters.concat([{field:c,predicate:O,value:C}]))},children:"Add filter"}),Object(b.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){e.updateFilters([])},children:"Drop Filters"}),Object(b.jsx)(m.a,{size:"small",value:e.sortOrder.field,onChange:function(t,a){!function(t){var a={};a.order=e.sortOrder.order,a.field=t,e.setSortOrder(a)}(a)},options:t,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Sort field"}))}}),Object(b.jsx)(m.a,{size:"small",value:e.sortOrder.order,onChange:function(t,a){!function(t){var a={};a.field=e.sortOrder.field,a.order=t,e.setSortOrder(a)}(a)},options:["ASC","DESC"],renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Sort order"}))}}),e.filters.map((function(e,t){return Object(b.jsxs)(g.a,{children:[e.field," ",e.predicate," ",e.value]},"Typo_"+t)}))]})}var q=a.p+"static/media/team.a095f2aa.jpg";function H(e){var t=Object(n.useState)({fullName:null,annualTurnover:0}),a=Object(o.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)({}),d=Object(o.a)(c,2),u=d[0],j=d[1],O=Object(n.useState)(!1),h=Object(o.a)(O,2),f=h[0],x=h[1],m=Object(n.useCallback)((function(){var t={};if(r.fullName&&0!==r.fullName.length||(t.FullName="Full Name should not be empty"),(!r.annualTurnover||r.annualTurnover<=0)&&(t.AnnualTurnover="Annual turnover should be positive"),0===Object.keys(t).length){var a={fullName:r.fullName,annualTurnover:r.annualTurnover};x(!0),E.a.post("/organizations",a).then((function(t){e.handleClose(),x(!1)})).catch((function(t){e.setProperError(t),x(!1)}))}j(t)}),[r,e,x]);return Object(b.jsx)("div",{children:Object(b.jsxs)(S.a,{open:e.open,onClose:e.handleClose,maxWidth:"xl",children:[Object(b.jsx)(y.a,{children:"Create organization"}),Object(b.jsx)(z.a,{children:Object(b.jsxs)(s.a,{display:"grid",gap:2,sx:{backgroundImage:"linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url(".concat(q,")"),backgroundSize:"contain",backgroundPosition:"center"},children:[Object(b.jsx)(g.a,{children:Object(b.jsx)("pre",{style:{fontFamily:"inherit"},children:"public class Organization {\n    private String fullName; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private int annualTurnover; //\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0\n}"})}),Object(b.jsx)(g.a,{children:Object(b.jsx)("b",{children:"Please, fill the fields according to the description to create new organization entity."})}),Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(v.a,Object(l.a)({size:"small",label:"FullName",value:r.fullName,onChange:function(e){r.fullName=e.target.value,i(Object.assign({},r))}},u.FullName&&{error:!0,helperText:u.FullName})),Object(b.jsx)(M,Object(l.a)({size:"small",label:"Annual Turnover",value:r.annualTurnover,onChange:function(e){r.annualTurnover=e.target.value,i(Object.assign({},r))}},u.AnnualTurnover&&{error:!0,helperText:u.AnnualTurnover}))]})]})}),f?Object(b.jsxs)(k.a,{children:[Object(b.jsx)(N.a,{color:"secondary",children:"Cancel"}),Object(b.jsx)(N.a,{children:"Create"})]}):Object(b.jsxs)(k.a,{children:[Object(b.jsx)(p.a,{onClick:function(){i({position:null,startDate:null,endDate:null}),e.handleClose()},color:"secondary",children:"Cancel"}),Object(b.jsx)(p.a,{onClick:function(){m()},children:"Create"})]})]})})}function U(e){var t=Object(n.useState)({fullName:e.item.fullName,annualTurnover:e.item.annualTurnover,id:e.item.id}),a=Object(o.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)({}),d=Object(o.a)(c,2),u=d[0],j=d[1],O=Object(n.useState)(!1),h=Object(o.a)(O,2),f=h[0],x=h[1],m=Object(n.useCallback)((function(){x(!0),E.a.delete("/organizations/"+r.id).then((function(t){e.handleClose(),x(!1)})).catch((function(t){e.setProperError(t),x(!1)}))}),[r,e]),C=Object(n.useCallback)((function(){var t={};if(r.fullName&&0!==r.fullName.length||(t.FullName="Full Name should not be empty"),(!r.annualTurnover||r.annualTurnover<=0)&&(t.AnnualTurnover="Annual turnover should be positive"),0===Object.keys(t).length){var a={fullName:r.fullName,annualTurnover:r.annualTurnover};x(!0),E.a.put("/organizations/"+r.id,a).then((function(t){e.handleClose(),x(!1)})).catch((function(t){e.setProperError(t),x(!1)}))}j(t)}),[r,e,x]);return Object(b.jsx)("div",{children:Object(b.jsxs)(S.a,{open:e.open,onClose:e.handleClose,maxWidth:"xl",children:[Object(b.jsx)(y.a,{children:"Update worker"}),Object(b.jsx)(z.a,{children:Object(b.jsxs)(s.a,{display:"grid",gap:2,sx:{backgroundImage:"linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url(".concat(q,")"),backgroundSize:"contain",backgroundPosition:"center"},children:[Object(b.jsx)(g.a,{children:Object(b.jsx)("pre",{style:{fontFamily:"inherit"},children:"public class Organization {\n    private String fullName; //\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private int annualTurnover; //\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0\n}"})}),Object(b.jsx)(g.a,{children:Object(b.jsx)("b",{children:"Please, fill the fields according to the description to create new organization entity."})}),Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(v.a,Object(l.a)({size:"small",label:"FullName",value:r.fullName,onChange:function(e){r.fullName=e.target.value,i(Object.assign({},r))}},u.FullName&&{error:!0,helperText:u.FullName})),Object(b.jsx)(M,Object(l.a)({size:"small",label:"Annual Turnover",value:r.annualTurnover,onChange:function(e){r.annualTurnover=e.target.value,i(Object.assign({},r))}},u.AnnualTurnover&&{error:!0,helperText:u.AnnualTurnover}))]})]})}),f?Object(b.jsxs)(k.a,{children:[Object(b.jsx)(N.a,{color:"secondary",children:"Cancel"}),Object(b.jsx)(N.a,{children:"Update"})]}):Object(b.jsxs)(k.a,{children:[Object(b.jsx)(p.a,{onClick:function(){i({position:null,startDate:null,endDate:null}),e.handleClose()},variant:"contained",color:"secondary",children:"Cancel"}),Object(b.jsx)(p.a,{onClick:function(){m()},color:"error",children:"Delete"}),Object(b.jsx)(p.a,{onClick:function(){C()},children:"Update"})]})]})})}function V(){var e=Object(_.b)().enqueueSnackbar,t=a(21).default,r=Object(n.useState)(!1),i=Object(o.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(o.a)(d,2),j=u[0],O=u[1],h=Object(n.useState)(!1),m=Object(o.a)(h,2),v=m[0],C=m[1],S=Object(n.useState)([]),y=Object(o.a)(S,2),z=y[0],k=y[1],N=Object(n.useState)(null),D=Object(o.a)(N,2),T=D[0],E=D[1],P=Object(n.useState)(0),w=Object(o.a)(P,2),I=w[0],F=w[1],A=Object(n.useState)(0),J=Object(o.a)(A,2),L=J[0],Y=J[1],R=Object(n.useState)(null),q=Object(o.a)(R,2),V=q[0],W=q[1],G=Object(n.useState)(null),K=Object(o.a)(G,2),B=K[0],Q=K[1],Z=Object(n.useState)([]),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({field:"id",order:"ASC"}),ne=Object(o.a)(ae,2),re=ne[0],ie=ne[1],ce=Object(n.useCallback)((function(e,t){var a=z.find((function(t){return t.id===e[0]}));E(a)}),[z,E]),le=Object(n.useCallback)((function(t){var a=t;t&&(a=t.response?t.response.data.Message:t.request?t.request:t.message,e(a,{variant:"error"}))}),[e]),oe=Object(n.useCallback)((function(){return t.get("/organizations",{params:{page:V,pageSize:B,sort:JSON.stringify({type:re.order,fieldName:re.field})}}).then((function(e){console.log(e.data);var t=e.data.map((function(e){var t=e;return t.organization=JSON.stringify(e.organization,null,"\t"),t.coordinates=JSON.stringify(e.coordinates,null,"\t"),t}));k(t),F(t.length),O(!0),le(null)})).catch((function(e){le(e),O(!0)}))}),[t,le,V,B,re]),se=Object(n.useCallback)((function(){var e=ee.map((function(e){return{fieldName:e.field,predicateType:e.predicate,fieldValue:e.value}}));return t.get("/organizations/count").then((function(e){console.log(e.data),Y(e.data),C(!0)})).catch((function(e){le(e),C(!0)})),t({method:"get",url:"/organizations",responseType:"json",params:{filters:JSON.stringify(e),page:V,pageSize:B,sort:JSON.stringify({type:re.order,fieldName:re.field})}}).then((function(e){console.log(e.data);var t=e.data.map((function(e){var t=e;return t.organization=JSON.stringify(e.organization,null,"\t"),t.coordinates=JSON.stringify(e.coordinates,null,"\t"),t}));k(t),F(t.length),O(!0),le(null)})).catch((function(e){le(e),O(!0)}))}),[t,ee,le,B,V,re]);Object(n.useEffect)((function(){0===z.length&&oe(),t.get("/organizations/count").then((function(e){console.log(e.data),Y(e.data),C(!0)})).catch((function(e){le(e),C(!0)}))}),[]);return j||v?Object(b.jsxs)(f.a,{container:!0,spacing:4,children:[Object(b.jsxs)(f.a,{item:!0,xl:8,children:[j?Object(b.jsxs)("div",{children:[Object(b.jsx)(s.a,{sx:{height:Math.max(Math.min(56*(I+1),1e3),620)+"px"},children:Object(b.jsx)(x.a,{disableColumnFilter:!0,rows:z,columns:[{field:"id",headerName:"Id",width:50,sortable:!1},{field:"fullName",headerName:"Full Name",width:150,sortable:!1},{field:"annualTurnover",headerName:"Annual Turnover",width:150,sortable:!1}],hideFooter:!0,onSelectionModelChange:ce})}),Object(b.jsxs)(g.a,{sx:{mb:2},children:["Displayed: ",I]}),Object(b.jsx)(M,{size:"small",label:"Page",placeholder:"0",value:V,onChange:function(e){W(e.target.value)}}),Object(b.jsx)(M,{size:"small",label:"Page size",placeholder:"10",value:B,onChange:function(e){Q(e.target.value)}})]}):Object(b.jsx)(s.a,{sx:{height:"100%",width:"50%"},children:"Grid is loading..."}),Object(b.jsx)(s.a,{sx:{mt:1,mb:2},children:v?Object(b.jsxs)(g.a,{children:["Total: ",L]}):Object(b.jsx)(g.a,{children:"Total: Loading..."})}),Object(b.jsx)(p.a,{variant:"contained",onClick:function(){l(!0)},children:"Add element"})]}),Object(b.jsx)(f.a,{item:!0,xl:4,children:Object(b.jsxs)(s.a,{sx:{height:"100%",width:"50%"},children:[Object(b.jsx)(X,{filters:ee,updateFilters:te,sortOrder:re,setSortOrder:ie}),Object(b.jsx)(p.a,{sx:{mt:3},variant:"contained",onClick:se,children:"Apply filter"})]})}),c?Object(b.jsx)(H,{open:c,handleClose:function(){l(!1),oe()},setProperError:le}):"",T?Object(b.jsx)(U,{open:T,handleClose:function(){E(null),oe()},item:T,setProperError:le}):""]}):Object(b.jsx)(s.a,{sx:{height:"100%",width:"50%"},children:"Loading..."})}function W(e){var t=["id","x","y"],a=["EQ","GT","LT","LIKE"],r=Object(n.useState)(t[0]),i=Object(o.a)(r,2),c=i[0],d=i[1],u=Object(n.useState)(a[0]),j=Object(o.a)(u,2),O=j[0],h=j[1],f=Object(n.useState)(""),x=Object(o.a)(f,2),C=x[0],S=x[1];return Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(m.a,{size:"small",value:c,onChange:function(e,t){d(t)},options:t,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Field name"}))}}),Object(b.jsx)(m.a,{size:"small",value:O,onChange:function(e,t){h(t)},options:a,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Predicate"}))}}),Object(b.jsx)(v.a,{size:"small",label:c+" value",value:C,onChange:function(e){S(e.target.value)}}),Object(b.jsx)(p.a,{variant:"contained",onClick:function(){e.updateFilters(e.filters.concat([{field:c,predicate:O,value:C}]))},children:"Add filter"}),Object(b.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){e.updateFilters([])},children:"Drop Filters"}),Object(b.jsx)(m.a,{size:"small",value:e.sortOrder.field,onChange:function(t,a){!function(t){var a={};a.order=e.sortOrder.order,a.field=t,e.setSortOrder(a)}(a)},options:t,renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Sort field"}))}}),Object(b.jsx)(m.a,{size:"small",value:e.sortOrder.order,onChange:function(t,a){!function(t){var a={};a.field=e.sortOrder.field,a.order=t,e.setSortOrder(a)}(a)},options:["ASC","DESC"],renderInput:function(e){return Object(b.jsx)(v.a,Object(l.a)(Object(l.a)({},e),{},{label:"Sort order"}))}}),e.filters.map((function(e,t){return Object(b.jsxs)(g.a,{children:[e.field," ",e.predicate," ",e.value]},"Typo_"+t)}))]})}var G=a.p+"static/media/map.942eaf01.jpg";function K(e){var t=Object(n.useState)({x:null,y:null}),a=Object(o.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)({}),d=Object(o.a)(c,2),u=d[0],j=d[1],O=Object(n.useState)(!1),h=Object(o.a)(O,2),f=h[0],x=h[1],m=Object(n.useCallback)((function(){var t={};if((!r.x||r.x<=-485)&&(t.X="X should be bigger then -485"),r.y||(t.Y="Y should be given"),0===Object.keys(t).length){var a={x:r.x,y:r.y};x(!0),E.a.post("/coordinates",a).then((function(t){e.handleClose(),x(!1)})).catch((function(t){e.setProperError(t),x(!1)}))}j(t)}),[r,e,x]);return Object(b.jsx)("div",{children:Object(b.jsxs)(S.a,{open:e.open,onClose:e.handleClose,maxWidth:"xl",children:[Object(b.jsx)(y.a,{children:"Create coordinates"}),Object(b.jsx)(z.a,{children:Object(b.jsxs)(s.a,{display:"grid",gap:2,sx:{backgroundImage:"linear-gradient(rgba(255,255,255,0.5), rgba(255,255,255,0.5)), url(".concat(G,")"),backgroundSize:"contain",backgroundPosition:"center"},children:[Object(b.jsx)(g.a,{children:Object(b.jsx)("pre",{style:{fontFamily:"inherit"},children:"public class Coordinates {\n    private Integer x; //\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 -485, \u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private int y;\n}"})}),Object(b.jsx)(g.a,{children:Object(b.jsx)("b",{children:"Please, fill the fields according to the description to create new coordinates entity."})}),Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(M,Object(l.a)({size:"small",label:"X",value:r.x,onChange:function(e){r.x=e.target.value,i(Object.assign({},r))}},u.X&&{error:!0,helperText:u.X})),Object(b.jsx)(M,Object(l.a)({size:"small",label:"Y",value:r.y,onChange:function(e){r.y=e.target.value,i(Object.assign({},r))}},u.Y&&{error:!0,helperText:u.Y}))]})]})}),f?Object(b.jsxs)(k.a,{children:[Object(b.jsx)(N.a,{color:"secondary",children:"Cancel"}),Object(b.jsx)(N.a,{children:"Create"})]}):Object(b.jsxs)(k.a,{children:[Object(b.jsx)(p.a,{onClick:function(){i({position:null,startDate:null,endDate:null}),e.handleClose()},color:"secondary",children:"Cancel"}),Object(b.jsx)(p.a,{onClick:function(){m()},children:"Create"})]})]})})}function B(e){var t=Object(n.useState)({x:e.item.x,y:e.item.y,id:e.item.id}),a=Object(o.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)({}),d=Object(o.a)(c,2),u=d[0],j=d[1],O=Object(n.useState)(!1),h=Object(o.a)(O,2),f=h[0],x=h[1],m=Object(n.useCallback)((function(){x(!0),E.a.delete("/coordinates/"+r.id).then((function(t){e.handleClose(),x(!1)})).catch((function(t){e.setProperError(t),x(!1)}))}),[r,e]),v=Object(n.useCallback)((function(){var t={};if((!r.x||r.x<=-485)&&(t.X="X should be bigger then -485"),r.y||(t.Y="Y should be given"),console.log(JSON.stringify(t)),0===Object.keys(t).length){var a={x:r.x,y:r.y};x(!0),E.a.put("/coordinates/"+r.id,a).then((function(t){e.handleClose(),x(!1)})).catch((function(t){e.setProperError(t),x(!1)}))}j(t)}),[r,e,x]);return Object(b.jsx)("div",{children:Object(b.jsxs)(S.a,{open:e.open,onClose:e.handleClose,maxWidth:"xl",children:[Object(b.jsx)(y.a,{children:"Update worker"}),Object(b.jsx)(z.a,{children:Object(b.jsxs)(s.a,{display:"grid",gap:2,sx:{backgroundImage:"linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), url(".concat(G,")"),backgroundSize:"contain",backgroundPosition:"center"},children:[Object(b.jsx)(g.a,{children:Object(b.jsx)("pre",{style:{fontFamily:"inherit"},children:"public class Coordinates {\n    private Integer x; //\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 -485, \u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c null\n    private int y;\n}"})}),Object(b.jsx)(g.a,{children:Object(b.jsx)("b",{children:"Please, fill the fields according to the description to create new coordinates entity."})}),Object(b.jsxs)(s.a,{display:"grid",gap:2,children:[Object(b.jsx)(M,Object(l.a)({size:"small",label:"X",value:r.x,onChange:function(e){r.x=e.target.value,i(Object.assign({},r))}},u.X&&{error:!0,helperText:u.X})),Object(b.jsx)(M,Object(l.a)({size:"small",label:"Y",value:r.y,onChange:function(e){r.y=e.target.value,i(Object.assign({},r))}},u.Y&&{error:!0,helperText:u.Y}))]})]})}),f?Object(b.jsxs)(k.a,{children:[Object(b.jsx)(N.a,{color:"secondary",children:"Cancel"}),Object(b.jsx)(N.a,{children:"Update"})]}):Object(b.jsxs)(k.a,{children:[Object(b.jsx)(p.a,{onClick:function(){i({position:null,startDate:null,endDate:null}),e.handleClose()},variant:"contained",color:"secondary",children:"Cancel"}),Object(b.jsx)(p.a,{onClick:function(){m()},color:"error",children:"Delete"}),Object(b.jsx)(p.a,{onClick:function(){v()},children:"Update"})]})]})})}function Q(){var e=Object(_.b)().enqueueSnackbar,t=a(21).default,r=Object(n.useState)(!1),i=Object(o.a)(r,2),c=i[0],l=i[1],d=Object(n.useState)(!1),u=Object(o.a)(d,2),j=u[0],O=u[1],h=Object(n.useState)(!1),m=Object(o.a)(h,2),v=m[0],C=m[1],S=Object(n.useState)([]),y=Object(o.a)(S,2),z=y[0],k=y[1],N=Object(n.useState)(null),D=Object(o.a)(N,2),T=D[0],E=D[1],P=Object(n.useState)(0),w=Object(o.a)(P,2),I=w[0],F=w[1],A=Object(n.useState)(0),J=Object(o.a)(A,2),L=J[0],Y=J[1],R=Object(n.useState)(null),X=Object(o.a)(R,2),q=X[0],H=X[1],U=Object(n.useState)(null),V=Object(o.a)(U,2),G=V[0],Q=V[1],Z=Object(n.useState)([]),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({field:"id",order:"ASC"}),ne=Object(o.a)(ae,2),re=ne[0],ie=ne[1],ce=Object(n.useCallback)((function(e,t){var a=z.find((function(t){return t.id===e[0]}));E(a)}),[z,E]),le=Object(n.useCallback)((function(t){var a=t;t&&(a=t.response?t.response.data.Message:t.request?t.request:t.message,e(a,{variant:"error"}))}),[e]),oe=Object(n.useCallback)((function(){return t.get("/coordinates/count").then((function(e){console.log(e.data),Y(e.data),C(!0)})).catch((function(e){le(e),C(!0)})),t.get("/coordinates",{params:{page:q,pageSize:G,sort:JSON.stringify({type:re.order,fieldName:re.field})}}).then((function(e){console.log(e.data);var t=e.data.map((function(e){var t=e;return t.organization=JSON.stringify(e.organization,null,"\t"),t.coordinates=JSON.stringify(e.coordinates,null,"\t"),t}));k(t),F(t.length),O(!0),le(null)})).catch((function(e){le(e),O(!0)}))}),[t,le,q,G,re]),se=Object(n.useCallback)((function(){var e=ee.map((function(e){return{fieldName:e.field,predicateType:e.predicate,fieldValue:e.value}}));return t.get("/coordinates/count").then((function(e){console.log(e.data),Y(e.data),C(!0)})).catch((function(e){le(e),C(!0)})),t({method:"get",url:"/coordinates",responseType:"json",params:{filters:JSON.stringify(e),page:q,pageSize:G,sort:JSON.stringify({type:re.order,fieldName:re.field})}}).then((function(e){console.log(e.data);var t=e.data.map((function(e){var t=e;return t.organization=JSON.stringify(e.organization,null,"\t"),t.coordinates=JSON.stringify(e.coordinates,null,"\t"),t}));k(t),F(t.length),O(!0),le(null)})).catch((function(e){le(e),O(!0)}))}),[t,ee,le,G,q,re]);Object(n.useEffect)((function(){0===z.length&&oe(),t.get("/coordinates/count").then((function(e){console.log(e.data),Y(e.data),C(!0)})).catch((function(e){le(e),C(!0)}))}),[]);return j||v?Object(b.jsxs)(f.a,{container:!0,spacing:4,children:[Object(b.jsxs)(f.a,{item:!0,xl:8,children:[j?Object(b.jsxs)("div",{children:[Object(b.jsx)(s.a,{sx:{height:Math.max(Math.min(56*(I+1),1e3),620)+"px"},children:Object(b.jsx)(x.a,{disableColumnFilter:!0,rows:z,columns:[{field:"id",headerName:"Id",width:50,sortable:!1},{field:"x",headerName:"X",width:150,sortable:!1},{field:"y",headerName:"Y",width:150,sortable:!1}],hideFooter:!0,onSelectionModelChange:ce})}),Object(b.jsxs)(g.a,{sx:{mb:2},children:["Displayed: ",I]}),Object(b.jsx)(M,{size:"small",label:"Page",placeholder:"0",value:q,onChange:function(e){H(e.target.value)}}),Object(b.jsx)(M,{size:"small",label:"Page size",placeholder:"10",value:G,onChange:function(e){Q(e.target.value)}})]}):Object(b.jsx)(s.a,{sx:{height:"100%",width:"50%"},children:"Grid is loading..."}),Object(b.jsx)(s.a,{sx:{mt:1,mb:2},children:v?Object(b.jsxs)(g.a,{children:["Total: ",L]}):Object(b.jsx)(g.a,{children:"Total: Loading..."})}),Object(b.jsx)(p.a,{variant:"contained",onClick:function(){l(!0)},children:"Add element"})]}),Object(b.jsx)(f.a,{item:!0,xl:4,children:Object(b.jsxs)(s.a,{sx:{height:"100%",width:"50%"},children:[Object(b.jsx)(W,{filters:ee,updateFilters:te,sortOrder:re,setSortOrder:ie}),Object(b.jsx)(p.a,{sx:{mt:3},variant:"contained",onClick:se,children:"Apply filter"})]})}),c?Object(b.jsx)(K,{open:c,handleClose:function(){l(!1),oe()},setProperError:le}):"",T?Object(b.jsx)(B,{open:T,handleClose:function(){E(null),oe()},item:T,setProperError:le}):""]}):Object(b.jsx)(s.a,{sx:{height:"100%",width:"50%"},children:"Loading..."})}var Z=a(151),$=a.n(Z);function ee(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function te(){var e=n.useState(0),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(b.jsxs)(s.a,{sx:{width:"100%",backgroundColor:"#F6F6F6"},children:[Object(b.jsx)(s.a,{children:Object(b.jsxs)(d.a,{value:a,onChange:function(e,t){r(t)},centered:!0,indicatorColor:"primary",children:[Object(b.jsx)(u.a,Object(l.a)({label:"Workers"},ee(0))),Object(b.jsx)(u.a,Object(l.a)({label:"Coordinates"},ee(1))),Object(b.jsx)(u.a,Object(l.a)({label:"Organizations"},ee(2)))]})}),Object(b.jsx)(h,{value:a,index:0,children:Object(b.jsx)(R,{})}),Object(b.jsx)(h,{value:a,index:1,children:Object(b.jsx)(Q,{})}),Object(b.jsx)(h,{value:a,index:2,children:Object(b.jsx)(V,{})})]})}E.a.defaults.baseURL="/app",E.a.interceptors.request.use((function(e){return e.paramsSerializer=function(e){return $.a.stringify(e,{arrayFormat:"brackets"})},e}));var ae=a(294),ne=a(293),re=r.a.createRef(),ie=function(e){return function(){re.current.closeSnackbar(e)}},ce=a(220),le=a(221);F.a.extend(ce),F.a.extend(le),document.title="SOA 1",c.a.render(Object(b.jsxs)(r.a.StrictMode,{children:[Object(b.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(b.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Object(b.jsx)(_.a,{maxSnack:2,hideIconVariant:!1,ref:re,action:function(e){return Object(b.jsx)(p.a,{onClick:ie(e),children:Object(b.jsx)(g.a,{color:"white",children:"CLOSE"})})},children:Object(b.jsx)(ne.b,{dateAdapter:ae.a,children:Object(b.jsx)(te,{})})})]}),document.getElementById("root"))}},[[222,1,2]]]);
//# sourceMappingURL=main.4ca61a76.chunk.js.map